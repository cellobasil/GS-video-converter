# Требования для деплоя GS Video Converter Bot

## Технические требования к серверу

### 1. Системные требования
- **ОС**: Linux (Ubuntu 20.04+ / Debian 11+ / CentOS 8+)
- **Python**: версия 3.8 или выше
- **FFmpeg**: последняя стабильная версия (обязательно для обработки видео)
- **Дисковое пространство**: минимум 50GB свободного места (для временных файлов при обработке видео)
- **RAM**: минимум 2GB (рекомендуется 4GB+)
- **CPU**: минимум 2 ядра (для обработки видео)

### 2. Доступ и безопасность
- **SSH доступ** с ключом или паролем
- **Права sudo** (или возможность установки пакетов через администратора)
- **Доступ к интернету** (для работы с Telegram API)
- **Порт 22** открыт для SSH

### 3. Для работы Cursor Agent
- **SSH доступ** с возможностью выполнения команд
- **Python 3.8+** установлен в системе
- **Git** установлен (для клонирования репозитория)
- Возможность установки дополнительных Python пакетов через pip

### 4. Дополнительные зависимости
- **FFmpeg** с поддержкой H.264 кодирования
- Опционально: поддержка GPU (NVIDIA NVENC) для ускорения обработки видео

## Что нужно попросить у разработчика

### Минимальный запрос:
1. **Выделить отдельную директорию** на сервере для проекта (например: `/home/username/gs-video-converter` или `/opt/gs-video-converter`)
2. **Создать пользователя** для запуска бота (или предоставить доступ к существующему)
3. **SSH доступ** к серверу (логин, пароль или SSH ключ)
4. **Установить базовые зависимости**: Python 3.8+, pip, git, FFmpeg
5. **Настроить systemd service** для автозапуска бота (или предоставить инструкции)

### Расширенный запрос (рекомендуется):
6. **Мониторинг и логирование**: настройка логов в `/var/log/gs-bot/`
7. **Автоматический перезапуск** при сбоях
8. **Ограничение ресурсов** (если нужно): cgroups для контроля CPU/RAM
9. **Резервное копирование** конфигурации и сессий бота

## Структура проекта на сервере

```
/opt/gs-video-converter/  (или другая директория)
├── main.py
├── config.py
├── requirements.txt
├── .env                    # Конфигурация (API ключи)
├── downloads/              # Временные файлы
├── utils/
└── logs/                   # Логи приложения
```

## Переменные окружения (.env файл)

Нужно будет создать файл `.env` со следующими параметрами:
- `API_ID` - Telegram API ID
- `API_HASH` - Telegram API Hash
- `BOT_TOKEN` - токен бота
- `TARGET_CHANNEL_ID` - ID целевого канала
- `ALLOWED_USER_IDS` - список разрешенных пользователей
- `WORK_DIR` - рабочая директория (по умолчанию "downloads")

## Процесс деплоя

1. Клонирование репозитория на сервер
2. Установка Python зависимостей (`pip install -r requirements.txt`)
3. Создание `.env` файла с конфигурацией
4. Настройка systemd service для автозапуска
5. Запуск и проверка работы бота

## Подключение Cursor Agent

После получения доступа:
1. Настроить SSH подключение в Cursor
2. Установить Cursor Agent на сервере (если требуется)
3. Синхронизировать код между локальной машиной и сервером
